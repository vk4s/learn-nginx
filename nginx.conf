
events { }


http {

  include mime.types;  

  server {

    listen 80;
    server_name 155.248.242.196;

    root /sites/demo;


    # Access rewrite parameters
    rewrite ^/user/(\w+) /greet/$1;

    # Make a rewrite to not rewritten anymore
    # rewrite ^/user/(\w+) /greet/$1 last;

    # rewrite
    rewrite ^/user/\w+ /greet;



    rewrite /newlogo /thumb.png;

    # redirect using return
    location /logo {
        # The url will change to '/thumb.png' instead of '/logo'
        return 307 /thumb.png;
    }

    location /greet {
        # The url will change to '/thumb.png' instead of '/logo'
        return 200 'Welcome User';
    }

    location = /greet/vikash {
        # The url will change to '/thumb.png' instead of '/logo'
        return 200 'Welcome Vikash';
    }

  }
}

